{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport multicall from 'utils/multicall';\nimport { getMasterChefAddress, getMasterChef3Address } from 'utils/addressHelpers';\nimport masterChefABI from 'config/abi/masterchef.json';\nimport masterChef3ABI from 'config/abi/masterchef3.json';\nimport { farmsConfig, farms3Config } from 'config/constants';\nimport useRefresh from './useRefresh';\n\nconst useFarmsWithBalance = () => {\n  _s();\n\n  const [farmsWithBalances, setFarmsWithBalances] = useState([]);\n  const {\n    account\n  } = useWallet();\n  const {\n    fastRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalances = async () => {\n      const calls = farmsConfig.map(farm => ({\n        address: getMasterChefAddress(),\n        name: 'pendingEgg',\n        params: [farm.pid, account]\n      }));\n      const rawResults = await multicall(masterChefABI, calls);\n      const results = farmsConfig.map((farm, index) => ({ ...farm,\n        balance: new BigNumber(rawResults[index])\n      }));\n      setFarmsWithBalances(results);\n    };\n\n    if (account) {\n      fetchBalances();\n    }\n  }, [account, fastRefresh]);\n  return farmsWithBalances;\n};\n\n_s(useFarmsWithBalance, \"CHNPAMzPWe7dKEIn65bMTj3w5JE=\", false, function () {\n  return [useWallet, useRefresh];\n});\n\nexport const useFarms3WithBalance = () => {\n  _s2();\n\n  const [farms3WithBalances, setFarms3WithBalances] = useState([]);\n  const {\n    account\n  } = useWallet();\n  const {\n    fastRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalances = async () => {\n      const calls = farms3Config.map(farm => ({\n        address: getMasterChef3Address(),\n        name: 'pendingEgg',\n        params: [farm.pid, account]\n      }));\n      const rawResults = await multicall(masterChef3ABI, calls);\n      const results = farms3Config.map((farm, index) => ({ ...farm,\n        balance: new BigNumber(rawResults[index])\n      }));\n      setFarms3WithBalances(results);\n    };\n\n    if (account) {\n      fetchBalances();\n    }\n  }, [account, fastRefresh]);\n  return farms3WithBalances;\n};\n\n_s2(useFarms3WithBalance, \"3F1Tt7dhIimjWvvoso/bo+dd7Do=\", false, function () {\n  return [useWallet, useRefresh];\n});\n\nexport default useFarmsWithBalance;","map":{"version":3,"sources":["C:/Users/hexia/Desktop/pancake_fork/frontend/src/hooks/useFarmsWithBalance.ts"],"names":["useEffect","useState","BigNumber","useWallet","multicall","getMasterChefAddress","getMasterChef3Address","masterChefABI","masterChef3ABI","farmsConfig","farms3Config","useRefresh","useFarmsWithBalance","farmsWithBalances","setFarmsWithBalances","account","fastRefresh","fetchBalances","calls","map","farm","address","name","params","pid","rawResults","results","index","balance","useFarms3WithBalance","farms3WithBalances","setFarms3WithBalances"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport multicall from 'utils/multicall'\nimport { getMasterChefAddress, getMasterChef3Address } from 'utils/addressHelpers'\nimport masterChefABI from 'config/abi/masterchef.json'\nimport masterChef3ABI from 'config/abi/masterchef3.json'\nimport { farmsConfig, farms3Config } from 'config/constants'\nimport { FarmConfig, Farm3Config } from 'config/constants/types'\nimport useRefresh from './useRefresh'\n\nexport interface FarmWithBalance extends FarmConfig {\n  balance: BigNumber\n}\n\nexport interface Farm3WithBalance extends Farm3Config {\n  balance: BigNumber\n}\n\nconst useFarmsWithBalance = () => {\n  const [farmsWithBalances, setFarmsWithBalances] = useState<FarmWithBalance[]>([])\n  const { account } = useWallet()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalances = async () => {\n      const calls = farmsConfig.map((farm) => ({\n        address: getMasterChefAddress(),\n        name: 'pendingEgg',\n        params: [farm.pid, account],\n      }))\n\n      const rawResults = await multicall(masterChefABI, calls)\n      const results = farmsConfig.map((farm, index) => ({ ...farm, balance: new BigNumber(rawResults[index]) }))\n\n      setFarmsWithBalances(results)\n    }\n\n    if (account) {\n      fetchBalances()\n    }\n  }, [account, fastRefresh])\n\n  return farmsWithBalances\n}\n\nexport const useFarms3WithBalance = () => {\n  const [farms3WithBalances, setFarms3WithBalances] = useState<Farm3WithBalance[]>([])\n  const { account } = useWallet()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalances = async () => {\n      const calls = farms3Config.map((farm) => ({\n        address: getMasterChef3Address(),\n        name: 'pendingEgg',\n        params: [farm.pid, account],\n      }))\n\n      const rawResults = await multicall(masterChef3ABI, calls)\n      const results = farms3Config.map((farm, index) => ({ ...farm, balance: new BigNumber(rawResults[index]) }))\n\n      setFarms3WithBalances(results)\n    }\n\n    if (account) {\n      fetchBalances()\n    }\n  }, [account, fastRefresh])\n\n  return farms3WithBalances\n}\n\nexport default useFarmsWithBalance\n"]},"metadata":{},"sourceType":"module"}