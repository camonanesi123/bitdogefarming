{"ast":null,"code":"import{kebabCase}from'lodash';import BigNumber from'bignumber.js';import{getAddress}from'utils/addressHelpers';import{useEffect,useRef,useMemo}from'react';import{useSelector,useDispatch}from'react-redux';import useRefresh from'hooks/useRefresh';import{useWallet}from'@binance-chain/bsc-use-wallet';import{useAppDispatch}from'state';import{toastTypes}from'@pancakeswap-libs/uikit';import{getBalanceNumber}from'utils/formatBalance';import{fetchFarmsPublicDataAsync,fetchPoolsPublicDataAsync,fetchPoolsUserDataAsync,fetchFarms3PublicDataAsync,push as pushToast,remove as removeToast,clear as clearToast}from'./actions';import{QuoteToken}from'../config/constants/types';import{fetchAchievements}from'./achievements';import Nfts from'../config/constants/nfts';import{fetchWalletNfts}from'./collectibles';import{fetchTeams}from'./teams';import{fetchProfile}from'./profile';import{fetchPrices}from'./prices';var CHAIN_ID=process.env.REACT_APP_CHAIN_ID;var ZERO=new BigNumber(0);export var useFetchPublicData=function useFetchPublicData(){var dispatch=useDispatch();var _useRefresh=useRefresh(),slowRefresh=_useRefresh.slowRefresh;useEffect(function(){dispatch(fetchFarmsPublicDataAsync());dispatch(fetchPoolsPublicDataAsync());dispatch(fetchFarms3PublicDataAsync());},[dispatch,slowRefresh]);};// Farms\nexport var useFarms=function useFarms(){var farms=useSelector(function(state){return state.farms.data;});return farms;};export var useFarmFromPid=function useFarmFromPid(pid){var farm=useSelector(function(state){return state.farms.data.find(function(f){return f.pid===pid;});});return farm;};export var useFarmFromSymbol=function useFarmFromSymbol(lpSymbol){var farm=useSelector(function(state){return state.farms.data.find(function(f){return f.lpSymbol===lpSymbol;});});return farm;};export var useFarmUser=function useFarmUser(pid){var farm=useFarmFromPid(pid);return{allowance:farm.userData?new BigNumber(farm.userData.allowance):new BigNumber(0),tokenBalance:farm.userData?new BigNumber(farm.userData.tokenBalance):new BigNumber(0),stakedBalance:farm.userData?new BigNumber(farm.userData.stakedBalance):new BigNumber(0),earnings:farm.userData?new BigNumber(farm.userData.earnings):new BigNumber(0)};};// Farms3\nexport var useFarms3=function useFarms3(){var farms3=useSelector(function(state){return state.farms3.data;});return farms3;};export var useFarm3FromPid=function useFarm3FromPid(pid){var farm3=useSelector(function(state){return state.farms3.data.find(function(f){return f.pid===pid;});});return farm3;};export var useFarm3FromSymbol=function useFarm3FromSymbol(lpSymbol){var farm3=useSelector(function(state){return state.farms3.data.find(function(f){return f.lpSymbol===lpSymbol;});});return farm3;};export var useFarm3User=function useFarm3User(pid){var farm3=useFarm3FromPid(pid);return{allowance:farm3.userData?new BigNumber(farm3.userData.allowance):new BigNumber(0),tokenBalance:farm3.userData?new BigNumber(farm3.userData.tokenBalance):new BigNumber(0),stakedBalance:farm3.userData?new BigNumber(farm3.userData.stakedBalance):new BigNumber(0),earnings:farm3.userData?new BigNumber(farm3.userData.earnings):new BigNumber(0)};};// Pools\nexport var usePools=function usePools(account){var _useRefresh2=useRefresh(),fastRefresh=_useRefresh2.fastRefresh;var dispatch=useDispatch();useEffect(function(){if(account){dispatch(fetchPoolsUserDataAsync(account));}},[account,dispatch,fastRefresh]);return useSelector(function(state){return state.pools.data;});};export var usePoolFromPid=function usePoolFromPid(sousId){return useSelector(function(state){return state.pools.data.find(function(p){return p.sousId===sousId;});});};// Prices\nexport var usePriceBnbBusd=function usePriceBnbBusd(){var pid=3;// BUSD-BNB LP\nvar farm=useFarmFromPid(pid);return(farm===null||farm===void 0?void 0:farm.tokenPriceVsQuote)?new BigNumber(farm===null||farm===void 0?void 0:farm.tokenPriceVsQuote):ZERO;};export var usePriceCakeBusd=function usePriceCakeBusd(){// const pid = 1 // CAKE-BNB LP\n// const bnbPriceUSD = usePriceBnbBusd()\n// const farm = useFarmFromPid(pid)\n// return farm.tokenPriceVsQuote ? bnbPriceUSD.times(farm.tokenPriceVsQuote) : ZERO\nvar pid=0;// EGG-BUSD LP\nvar farm=useFarmFromPid(pid);return farm.tokenPriceVsQuote?new BigNumber(farm.tokenPriceVsQuote):ZERO;};export var useTotalValue=function useTotalValue(){var farms=useFarms();var bnbPrice=usePriceBnbBusd();var senzuPrice=usePrice3CakeBusd();var cake2Price=useMemo(function(){return new BigNumber(22);},[]);var cakePrice=usePriceCakeBusd();var _useWallet=useWallet(),account=_useWallet.account;var pools=usePools(account);var totalValue=useRef(new BigNumber(0));useEffect(function(){var farmsTotalValue=new BigNumber(0);for(var i=0;i<farms.length;i++){var farm=farms[i];if(farm.lpTotalInQuoteToken){var val=void 0;if(farm.quoteTokenSymbol===QuoteToken.BNB){val=bnbPrice.times(farm.lpTotalInQuoteToken);}else if(farm.quoteTokenSymbol===QuoteToken.SENZU){val=senzuPrice.times(farm.lpTotalInQuoteToken);}else if(farm.quoteTokenSymbol===QuoteToken.CAKE2){val=cake2Price.times(farm.lpTotalInQuoteToken);}else if(farm.quoteTokenSymbol===QuoteToken.CAKE){val=cakePrice.times(farm.lpTotalInQuoteToken);}else{val=farm.lpTotalInQuoteToken;}farmsTotalValue=farmsTotalValue.plus(val);}}var poolsTotalValue=new BigNumber(0);for(var _i=0;_i<pools.length;_i++){var _poolValue;var pool=pools[_i];var poolValue=void 0;if(pool.stakingTokenName===QuoteToken.CAKE){var totalSaltStaked=new BigNumber(pool.totalStaked).div(new BigNumber(10).pow(18));poolValue=cakePrice.times(totalSaltStaked);}poolsTotalValue=poolsTotalValue.plus((_poolValue=poolValue)!==null&&_poolValue!==void 0?_poolValue:ZERO);}totalValue.current=farmsTotalValue.plus(poolsTotalValue);},[bnbPrice,senzuPrice,farms,pools,cakePrice,cake2Price]);if(!totalValue){return new BigNumber(0);}return totalValue.current;};// Prices3\nexport var usePrice3BnbBusd=function usePrice3BnbBusd(){var pid=7;// BUSD-BNB LP\nvar farm=useFarm3FromPid(pid);return(farm===null||farm===void 0?void 0:farm.tokenPriceVsQuote)?new BigNumber(farm===null||farm===void 0?void 0:farm.tokenPriceVsQuote):ZERO;};export var usePrice3CakeBusd=function usePrice3CakeBusd(){// const pid = 1 // CAKE-BNB LP\n// const bnbPriceUSD = usePriceBnbBusd()\n// const farm = useFarmFromPid(pid)\n// return farm.tokenPriceVsQuote ? bnbPriceUSD.times(farm.tokenPriceVsQuote) : ZERO\nvar pid=0;// EGG-BUSD LP\nvar farm=useFarm3FromPid(pid);return farm.tokenPriceVsQuote?new BigNumber(farm.tokenPriceVsQuote):ZERO;};export var useTotalValue3=function useTotalValue3(){var farms=useFarms3();var bnbPrice=usePrice3BnbBusd();var cakePrice=usePrice3CakeBusd();// console.log(\"bnbPrice\",bnbPrice)\n// console.log(\"cakePrice\",cakePrice)\nvar value=new BigNumber(0);for(var i=0;i<farms.length;i++){var farm=farms[i];if(farm.lpTotalInQuoteToken){var val=void 0;if(farm.quoteTokenSymbol===QuoteToken.BNB){val=bnbPrice.times(farm.lpTotalInQuoteToken);}else if(farm.quoteTokenSymbol===QuoteToken.CAKE){val=cakePrice.times(farm.lpTotalInQuoteToken);}else{val=farm.lpTotalInQuoteToken;}value=value.plus(val);}}return value;};export var useProfile=function useProfile(){var _useSelector=useSelector(function(state){return state.profile;}),isInitialized=_useSelector.isInitialized,isLoading=_useSelector.isLoading,data=_useSelector.data,hasRegistered=_useSelector.hasRegistered;return{profile:data,hasProfile:isInitialized&&hasRegistered,isInitialized:isInitialized,isLoading:isLoading};};// Toasts\nexport var useToast=function useToast(){var dispatch=useAppDispatch();var helpers=useMemo(function(){var push=function push(toast){return dispatch(pushToast(toast));};return{toastError:function toastError(title,description){return push({id:kebabCase(title),type:toastTypes.DANGER,title:title,description:description});},toastInfo:function toastInfo(title,description){return push({id:kebabCase(title),type:toastTypes.INFO,title:title,description:description});},toastSuccess:function toastSuccess(title,description){return push({id:kebabCase(title),type:toastTypes.SUCCESS,title:title,description:description});},toastWarning:function toastWarning(title,description){return push({id:kebabCase(title),type:toastTypes.WARNING,title:title,description:description});},push:push,remove:function remove(id){return dispatch(removeToast(id));},clear:function clear(){return dispatch(clearToast());}};},[dispatch]);return helpers;};// Block\nexport var useBlock=function useBlock(){return useSelector(function(state){return state.block;});};export var useLpTokenPrice=function useLpTokenPrice(symbol){var farm=useFarmFromSymbol(symbol);var tokenPriceInUsd=useGetApiPrice(getAddress(farm.tokenAddresses));return farm.lpTotalSupply&&farm.lpTotalInQuoteToken?new BigNumber(getBalanceNumber(farm.lpTotalSupply)).div(farm.lpTotalInQuoteToken).times(tokenPriceInUsd).times(2):new BigNumber(0);};export var useGetApiPrices=function useGetApiPrices(){var prices=useSelector(function(state){return state.prices;});return prices;};export var useGetApiPrice=function useGetApiPrice(address){var prices=useGetApiPrices();if(!prices){return null;}return prices[address.toLowerCase()];};export var useAchievements=function useAchievements(){var achievements=useSelector(function(state){return state.achievements.data;});return achievements;};// Achievements\nexport var useFetchAchievements=function useFetchAchievements(){// const { account } = useWeb3React()\nvar _useWallet2=useWallet(),account=_useWallet2.account;var dispatch=useAppDispatch();useEffect(function(){if(account){dispatch(fetchAchievements(account));}},[account,dispatch]);};// Collectibles\nexport var useGetCollectibles=function useGetCollectibles(){var _useWallet3=useWallet(),account=_useWallet3.account;var dispatch=useAppDispatch();var _useSelector2=useSelector(function(state){return state.collectibles;}),isInitialized=_useSelector2.isInitialized,isLoading=_useSelector2.isLoading,data=_useSelector2.data;var identifiers=Object.keys(data);useEffect(function(){// Fetch nfts only if we have not done so already\nif(!isInitialized){dispatch(fetchWalletNfts(account));}},[isInitialized,account,dispatch]);return{isInitialized:isInitialized,isLoading:isLoading,tokenIds:data,nftsInWallet:Nfts.filter(function(nft){return identifiers.includes(nft.identifier);})};};export var useTeams=function useTeams(){var _useSelector3=useSelector(function(state){return state.teams;}),isInitialized=_useSelector3.isInitialized,isLoading=_useSelector3.isLoading,data=_useSelector3.data;var dispatch=useAppDispatch();useEffect(function(){dispatch(fetchTeams());},[dispatch]);return{teams:data,isInitialized:isInitialized,isLoading:isLoading};};export var useFetchProfile=function useFetchProfile(){// const { account } = useWeb3React()\nvar _useWallet4=useWallet(),account=_useWallet4.account;var dispatch=useAppDispatch();useEffect(function(){dispatch(fetchProfile(account));},[account,dispatch]);};export var useFetchPriceList=function useFetchPriceList(){var _useRefresh3=useRefresh(),slowRefresh=_useRefresh3.slowRefresh;var dispatch=useAppDispatch();useEffect(function(){dispatch(fetchPrices());},[dispatch,slowRefresh]);};","map":{"version":3,"sources":["D:/task159/frontend/src/state/hooks.ts"],"names":["kebabCase","BigNumber","getAddress","useEffect","useRef","useMemo","useSelector","useDispatch","useRefresh","useWallet","useAppDispatch","toastTypes","getBalanceNumber","fetchFarmsPublicDataAsync","fetchPoolsPublicDataAsync","fetchPoolsUserDataAsync","fetchFarms3PublicDataAsync","push","pushToast","remove","removeToast","clear","clearToast","QuoteToken","fetchAchievements","Nfts","fetchWalletNfts","fetchTeams","fetchProfile","fetchPrices","CHAIN_ID","process","env","REACT_APP_CHAIN_ID","ZERO","useFetchPublicData","dispatch","slowRefresh","useFarms","farms","state","data","useFarmFromPid","pid","farm","find","f","useFarmFromSymbol","lpSymbol","useFarmUser","allowance","userData","tokenBalance","stakedBalance","earnings","useFarms3","farms3","useFarm3FromPid","farm3","useFarm3FromSymbol","useFarm3User","usePools","account","fastRefresh","pools","usePoolFromPid","sousId","p","usePriceBnbBusd","tokenPriceVsQuote","usePriceCakeBusd","useTotalValue","bnbPrice","senzuPrice","usePrice3CakeBusd","cake2Price","cakePrice","totalValue","farmsTotalValue","i","length","lpTotalInQuoteToken","val","quoteTokenSymbol","BNB","times","SENZU","CAKE2","CAKE","plus","poolsTotalValue","pool","poolValue","stakingTokenName","totalSaltStaked","totalStaked","div","pow","current","usePrice3BnbBusd","useTotalValue3","value","useProfile","profile","isInitialized","isLoading","hasRegistered","hasProfile","useToast","helpers","toast","toastError","title","description","id","type","DANGER","toastInfo","INFO","toastSuccess","SUCCESS","toastWarning","WARNING","useBlock","block","useLpTokenPrice","symbol","tokenPriceInUsd","useGetApiPrice","tokenAddresses","lpTotalSupply","useGetApiPrices","prices","address","toLowerCase","useAchievements","achievements","useFetchAchievements","useGetCollectibles","collectibles","identifiers","Object","keys","tokenIds","nftsInWallet","filter","nft","includes","identifier","useTeams","teams","useFetchProfile","useFetchPriceList"],"mappings":"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","sourcesContent":["import { kebabCase } from 'lodash'\nimport BigNumber from 'bignumber.js'\nimport { getAddress } from 'utils/addressHelpers'\nimport { useWeb3React } from '@web3-react/core'\nimport { useEffect, useRef, useMemo } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport useRefresh from 'hooks/useRefresh'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { useAppDispatch } from 'state'\nimport { Toast, toastTypes } from '@pancakeswap-libs/uikit'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport {\n  fetchFarmsPublicDataAsync, fetchPoolsPublicDataAsync, fetchPoolsUserDataAsync, fetchFarms3PublicDataAsync,\n  push as pushToast,\n  remove as removeToast,\n  clear as clearToast\n} from './actions'\nimport { State, PriceState, ProfileState, Farm, Pool, Farm3, AchievementState, TeamsState } from './types'\nimport { QuoteToken } from '../config/constants/types'\nimport { fetchAchievements } from './achievements'\nimport Nfts from '../config/constants/nfts'\nimport { fetchWalletNfts } from './collectibles'\nimport { fetchTeams } from './teams'\nimport { fetchProfile } from './profile'\nimport { fetchPrices } from './prices'\n\nconst CHAIN_ID = process.env.REACT_APP_CHAIN_ID\n\nconst ZERO = new BigNumber(0)\n\nexport const useFetchPublicData = () => {\n  const dispatch = useDispatch()\n  const { slowRefresh } = useRefresh()\n  useEffect(() => {\n    dispatch(fetchFarmsPublicDataAsync())\n    dispatch(fetchPoolsPublicDataAsync())\n    dispatch(fetchFarms3PublicDataAsync())\n  }, [dispatch, slowRefresh])\n}\n\n// Farms\n\nexport const useFarms = (): Farm[] => {\n  const farms = useSelector((state: State) => state.farms.data)\n  return farms\n}\n\nexport const useFarmFromPid = (pid): Farm => {\n  const farm = useSelector((state: State) => state.farms.data.find((f) => f.pid === pid))\n  return farm\n}\n\nexport const useFarmFromSymbol = (lpSymbol: string): Farm => {\n  const farm = useSelector((state: State) => state.farms.data.find((f) => f.lpSymbol === lpSymbol))\n  return farm\n}\n\nexport const useFarmUser = (pid) => {\n  const farm = useFarmFromPid(pid)\n\n  return {\n    allowance: farm.userData ? new BigNumber(farm.userData.allowance) : new BigNumber(0),\n    tokenBalance: farm.userData ? new BigNumber(farm.userData.tokenBalance) : new BigNumber(0),\n    stakedBalance: farm.userData ? new BigNumber(farm.userData.stakedBalance) : new BigNumber(0),\n    earnings: farm.userData ? new BigNumber(farm.userData.earnings) : new BigNumber(0),\n  }\n}\n\n// Farms3\n\nexport const useFarms3 = (): Farm3[] => {\n  const farms3 = useSelector((state: State) => state.farms3.data)\n  return farms3\n}\n\nexport const useFarm3FromPid = (pid): Farm3 => {\n  const farm3 = useSelector((state: State) => state.farms3.data.find((f) => f.pid === pid))\n  return farm3\n}\n\nexport const useFarm3FromSymbol = (lpSymbol: string): Farm3 => {\n  const farm3 = useSelector((state: State) => state.farms3.data.find((f) => f.lpSymbol === lpSymbol))\n  return farm3\n}\n\nexport const useFarm3User = (pid) => {\n  const farm3 = useFarm3FromPid(pid)\n\n  return {\n    allowance: farm3.userData ? new BigNumber(farm3.userData.allowance) : new BigNumber(0),\n    tokenBalance: farm3.userData ? new BigNumber(farm3.userData.tokenBalance) : new BigNumber(0),\n    stakedBalance: farm3.userData ? new BigNumber(farm3.userData.stakedBalance) : new BigNumber(0),\n    earnings: farm3.userData ? new BigNumber(farm3.userData.earnings) : new BigNumber(0),\n  }\n}\n// Pools\n\nexport const usePools = (account: string): Pool[] => {\n  const { fastRefresh } = useRefresh()\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (account) {\n      dispatch(fetchPoolsUserDataAsync(account))\n    }\n  }, [account, dispatch, fastRefresh])\n\n  return useSelector((state: State) => state.pools.data)\n}\n\nexport const usePoolFromPid = (sousId: number): Pool =>\n  useSelector((state: State) => state.pools.data.find((p) => p.sousId === sousId))\n\n// Prices\n\nexport const usePriceBnbBusd = (): BigNumber => {\n  const pid = 3 // BUSD-BNB LP\n  const farm = useFarmFromPid(pid)\n  return farm?.tokenPriceVsQuote ? new BigNumber(farm?.tokenPriceVsQuote) : ZERO\n}\n\nexport const usePriceCakeBusd = (): BigNumber => {\n  // const pid = 1 // CAKE-BNB LP\n  // const bnbPriceUSD = usePriceBnbBusd()\n  // const farm = useFarmFromPid(pid)\n  // return farm.tokenPriceVsQuote ? bnbPriceUSD.times(farm.tokenPriceVsQuote) : ZERO\n  const pid = 0; // EGG-BUSD LP\n  const farm = useFarmFromPid(pid);\n  return farm.tokenPriceVsQuote ? new BigNumber(farm.tokenPriceVsQuote) : ZERO;\n}\n\nexport const useTotalValue = (): BigNumber => {\n  const farms = useFarms();\n  const bnbPrice = usePriceBnbBusd();\n  const senzuPrice = usePrice3CakeBusd();\n  const cake2Price: BigNumber = useMemo(() => {\n    return new BigNumber(22)\n  }, [])\n  const cakePrice = usePriceCakeBusd();\n\n  const { account } = useWallet()\n  const pools = usePools(account)\n  const totalValue = useRef(new BigNumber(0))\n\n  useEffect(() => {\n    let farmsTotalValue = new BigNumber(0)\n    for (let i = 0; i < farms.length; i++) {\n      const farm = farms[i]\n      if (farm.lpTotalInQuoteToken) {\n        let val\n        if (farm.quoteTokenSymbol === QuoteToken.BNB) {\n          val = bnbPrice.times(farm.lpTotalInQuoteToken)\n        } else if (farm.quoteTokenSymbol === QuoteToken.SENZU) {\n          val = senzuPrice.times(farm.lpTotalInQuoteToken)\n        } else if (farm.quoteTokenSymbol === QuoteToken.CAKE2) {\n          val = cake2Price.times(farm.lpTotalInQuoteToken)\n        } else if (farm.quoteTokenSymbol === QuoteToken.CAKE) {\n          val = cakePrice.times(farm.lpTotalInQuoteToken)\n        } else {\n          val = farm.lpTotalInQuoteToken\n        }\n        farmsTotalValue = farmsTotalValue.plus(val)\n      }\n    }\n\n    let poolsTotalValue = new BigNumber(0)\n    for (let i = 0; i < pools.length; i++) {\n      const pool = pools[i]\n      let poolValue: BigNumber\n      if (pool.stakingTokenName === QuoteToken.CAKE) {\n        const totalSaltStaked = new BigNumber(pool.totalStaked).div(new BigNumber(10).pow(18))\n        poolValue = cakePrice.times(totalSaltStaked)\n      }\n\n      poolsTotalValue = poolsTotalValue.plus(poolValue ?? ZERO)\n    }\n\n    totalValue.current = farmsTotalValue.plus(poolsTotalValue)\n  }, [bnbPrice, senzuPrice, farms, pools, cakePrice, cake2Price])\n\n  if (!totalValue) {\n    return new BigNumber(0)\n  }\n  return totalValue.current\n}\n\n\n// Prices3\n\nexport const usePrice3BnbBusd = (): BigNumber => {\n  const pid = 7 // BUSD-BNB LP\n  const farm = useFarm3FromPid(pid)\n  return farm?.tokenPriceVsQuote ? new BigNumber(farm?.tokenPriceVsQuote) : ZERO\n}\n\nexport const usePrice3CakeBusd = (): BigNumber => {\n  // const pid = 1 // CAKE-BNB LP\n  // const bnbPriceUSD = usePriceBnbBusd()\n  // const farm = useFarmFromPid(pid)\n  // return farm.tokenPriceVsQuote ? bnbPriceUSD.times(farm.tokenPriceVsQuote) : ZERO\n  const pid = 0; // EGG-BUSD LP\n  const farm = useFarm3FromPid(pid);\n  return farm.tokenPriceVsQuote ? new BigNumber(farm.tokenPriceVsQuote) : ZERO;\n}\n\nexport const useTotalValue3 = (): BigNumber => {\n  const farms = useFarms3();\n  const bnbPrice = usePrice3BnbBusd();\n  const cakePrice = usePrice3CakeBusd();\n\n  // console.log(\"bnbPrice\",bnbPrice)\n  // console.log(\"cakePrice\",cakePrice)\n\n  let value = new BigNumber(0);\n  for (let i = 0; i < farms.length; i++) {\n    const farm = farms[i]\n    if (farm.lpTotalInQuoteToken) {\n      let val;\n      if (farm.quoteTokenSymbol === QuoteToken.BNB) {\n        val = (bnbPrice.times(farm.lpTotalInQuoteToken));\n      }else if (farm.quoteTokenSymbol === QuoteToken.CAKE) {\n        val = (cakePrice.times(farm.lpTotalInQuoteToken));\n      }else{\n        val = (farm.lpTotalInQuoteToken);\n      }\n      value = value.plus(val);\n\n    }\n  }\n  return value;\n}\n\nexport const useProfile = () => {\n  const { isInitialized, isLoading, data, hasRegistered }: ProfileState = useSelector((state: State) => state.profile)\n  return { profile: data, hasProfile: isInitialized && hasRegistered, isInitialized, isLoading }\n}\n\n// Toasts\nexport const useToast = () => {\n  const dispatch = useAppDispatch()\n  const helpers = useMemo(() => {\n    const push = (toast: Toast) => dispatch(pushToast(toast))\n\n    return {\n      toastError: (title: string, description?: string) => {\n        return push({ id: kebabCase(title), type: toastTypes.DANGER, title, description })\n      },\n      toastInfo: (title: string, description?: string) => {\n        return push({ id: kebabCase(title), type: toastTypes.INFO, title, description })\n      },\n      toastSuccess: (title: string, description?: string) => {\n        return push({ id: kebabCase(title), type: toastTypes.SUCCESS, title, description })\n      },\n      toastWarning: (title: string, description?: string) => {\n        return push({ id: kebabCase(title), type: toastTypes.WARNING, title, description })\n      },\n      push,\n      remove: (id: string) => dispatch(removeToast(id)),\n      clear: () => dispatch(clearToast()),\n    }\n  }, [dispatch])\n\n  return helpers\n}\n\n// Block\nexport const useBlock = () => {\n  return useSelector((state: State) => state.block)\n}\n\nexport const useLpTokenPrice = (symbol: string) => {\n  const farm = useFarmFromSymbol(symbol)\n  const tokenPriceInUsd = useGetApiPrice(getAddress(farm.tokenAddresses))\n\n  return farm.lpTotalSupply && farm.lpTotalInQuoteToken\n    ? new BigNumber(getBalanceNumber(farm.lpTotalSupply)).div(farm.lpTotalInQuoteToken).times(tokenPriceInUsd).times(2)\n    : new BigNumber(0)\n}\nexport const useGetApiPrices = () => {\n  const prices: PriceState['data'] = useSelector((state: State) => state.prices)\n  return prices\n}\n\nexport const useGetApiPrice = (address: string) => {\n  const prices = useGetApiPrices()\n\n  if (!prices) {\n    return null\n  }\n\n  return prices[address.toLowerCase()]\n}\n\nexport const useAchievements = () => {\n  const achievements: AchievementState['data'] = useSelector((state: State) => state.achievements.data)\n  return achievements\n}\n// Achievements\n\nexport const useFetchAchievements = () => {\n  // const { account } = useWeb3React()\n  const { account } = useWallet()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    if (account) {\n      dispatch(fetchAchievements(account))\n    }\n  }, [account, dispatch])\n}\n\n// Collectibles\nexport const useGetCollectibles = () => {\n  \n  const { account } = useWallet()\n  const dispatch = useAppDispatch()\n  const { isInitialized, isLoading, data } = useSelector((state: State) => state.collectibles)\n  const identifiers = Object.keys(data)\n  useEffect(() => {\n    // Fetch nfts only if we have not done so already\n    if (!isInitialized) {\n      dispatch(fetchWalletNfts(account))\n    }\n  }, [isInitialized, account, dispatch])\n\n  return {\n    isInitialized,\n    isLoading,\n    tokenIds: data,\n    nftsInWallet: Nfts.filter((nft) => identifiers.includes(nft.identifier)),\n  }\n}\n\nexport const useTeams = () => {\n  const { isInitialized, isLoading, data }: TeamsState = useSelector((state: State) => state.teams)\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(fetchTeams())\n  }, [dispatch])\n\n  return { teams: data, isInitialized, isLoading }\n}\n\nexport const useFetchProfile = () => {\n  // const { account } = useWeb3React()\n  const { account } = useWallet()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(fetchProfile(account))\n  }, [account, dispatch])\n}\n\nexport const useFetchPriceList = () => {\n  const { slowRefresh } = useRefresh()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(fetchPrices())\n  }, [dispatch, slowRefresh])\n}"]},"metadata":{},"sourceType":"module"}